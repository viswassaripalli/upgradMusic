(window.webpackJsonpmusic=window.webpackJsonpmusic||[]).push([[0],{11:function(t,e,a){},16:function(t,e,a){t.exports=a(33)},21:function(t,e,a){},22:function(t,e,a){},33:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(8),s=a.n(c),o=(a(21),a(9)),l=(a(11),a(1)),i=a(2),m=a(4),u=a(3),g=a(5),h=a(15),p=a.n(h),f=(a(22),a(6)),b=a.n(f),d=function(t){function e(){var t;return Object(l.a)(this,e),(t=Object(m.a)(this,Object(u.a)(e).call(this))).toggletrack=function(){var e="http://ws.audioscrobbler.com/2.0/?method=track.getInfo&api_key=1860cfefc2bccd102f8437ff38667f0f&mbid="+t.props.track.mbid+"&format=json";fetch(e).then(function(t){return t.json()}).then(function(e){console.log(e),"Track not found"!==e.message?t.setState({albumtitle:e.track.album.title,albumlistener:e.track.listeners,albumcount:e.track.playcount,toptags:e.track.toptags.tag,albumpublished:e.track.wiki.published,albumcontent:e.track.wiki.summary}):t.setState({message:e.message})}),t.setState({isactive:!t.state.isactive})},t.toggleModal=function(){var e="http://ws.audioscrobbler.com/2.0/?method=artist.getInfo&api_key=1860cfefc2bccd102f8437ff38667f0f&mbid="+t.props.track.artist.mbid+"&format=json";fetch(e).then(function(t){return t.json()}).then(function(e){console.log(e),t.setState({image:e.artist.image[4]["#text"],listener:e.artist.stats.listeners,count:e.artist.stats.playcount,tag:e.artist.tags.tag,publish:e.artist.bio.published,similar:e.artist.similar.artist,content:e.artist.bio.summary})}),t.setState({active:!t.state.active}),console.log(t.props.track.name)},t.state={message:"",active:!1,isactive:!1,image:"",listerner:"",count:"",tag:[],publish:"",similar:[],content:"",albumtitle:"",albumlistener:"",albumcount:"",toptags:[],albumpublished:"",albumcontent:""},t}return Object(g.a)(e,t),Object(i.a)(e,[{key:"componentWillMount",value:function(){b.a.setAppElement("body")}},{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement("img",{onClick:this.toggletrack,src:this.props.track.image[2]["#text"],alt:""}),r.a.createElement("h4",{onClick:this.toggletrack},this.props.track.name),r.a.createElement("a",{onClick:this.toggleModal},this.props.track.artist.name),r.a.createElement(b.a,{isOpen:this.state.active,onRequestClose:this.toggleModal},r.a.createElement("img",{style:{marginLeft:"40%"},src:this.state.image,alt:""}),r.a.createElement("h1",{style:{textAlign:"center"}},this.props.track.artist.name),r.a.createElement("h3",{style:{textAlign:"center"}},this.state.listener,r.a.createElement("span",{style:{color:"orange"}}," Listerners "),"    ",this.state.count,r.a.createElement("span",{style:{color:"orange"}}," playcounts")),r.a.createElement("ul",{style:{textAlign:"center"}},this.state.tag.map(function(t){return r.a.createElement("button",{style:{background:"orange"},key:t},t.name)})),r.a.createElement("h1",{style:{textAlign:"center"}},"Published On"," ",r.a.createElement("span",{style:{color:"orange"}},this.state.publish)),r.a.createElement("h1",{style:{textAlign:"center",color:"orange"}},"Related artist"),r.a.createElement("ul",{style:{textAlign:"center"}},this.state.similar.map(function(t){return r.a.createElement("button",{style:{background:"orange"},key:t},t.name)})),r.a.createElement("p",{style:{textAlign:"center"}},this.state.content),r.a.createElement("button",{style:{textAlign:"center",marginLeft:"45%"},onClick:this.toggleModal},"Close")),r.a.createElement(b.a,{isOpen:this.state.isactive,onRequestClose:this.toggletrack},"Track not found"!=this.state.message?r.a.createElement("div",null,r.a.createElement("img",{style:{marginLeft:"40%"},src:this.props.track.image[3]["#text"],alt:""}),r.a.createElement("h1",{style:{textAlign:"center"}},this.props.track.name),r.a.createElement("h3",{style:{textAlign:"center"}},"Album",r.a.createElement("span",{style:{color:"orange"}}," ",this.state.albumtitle," "),"Artist",r.a.createElement("span",{style:{color:"orange"}}," ",this.props.track.artist.name)),r.a.createElement("h3",{style:{textAlign:"center"}},this.state.albumlistener,r.a.createElement("span",{style:{color:"orange"}}," Listerners "),"    ",this.state.albumcount,r.a.createElement("span",{style:{color:"orange"}}," playcounts")),r.a.createElement("ul",{style:{textAlign:"center"}},this.state.toptags.map(function(t){return r.a.createElement("button",{style:{background:"orange"},key:t},t.name)})),r.a.createElement("h1",{style:{textAlign:"center"}},"Published On"," ",r.a.createElement("span",{style:{color:"orange"}},this.state.albumpublished)),r.a.createElement("p",{style:{textAlign:"center"}},this.state.albumcontent)):r.a.createElement("h1",{style:{textAlign:"center"}},this.state.message),r.a.createElement("button",{style:{textAlign:"center",marginLeft:"45%"},onClick:this.toggletrack},"Close")))}}]),e}(r.a.Component),k=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(m.a)(this,Object(u.a)(e).call(this,t))).state={},a.fetchapi(a.props.country),a}return Object(g.a)(e,t),Object(i.a)(e,[{key:"fetchapi",value:function(t){var e=this,a="http://ws.audioscrobbler.com/2.0/?method=geo.gettoptracks&country="+t+"&api_key=1860cfefc2bccd102f8437ff38667f0f&format=json";p.a.ajax({url:a,success:function(t){console.log("success");var a=t.tracks.track;console.log(a);var n=[];a.forEach(function(t){var e=r.a.createElement(d,{track:t});n.push(e)}),e.setState({row:n})},error:function(t,e,a){return console.error("failed to fetch")}})}},{key:"render",value:function(){return r.a.createElement("div",{className:"chart"},this.state.row)}}]),e}(r.a.Component);var E=function(){var t=Object(n.useState)("india"),e=Object(o.a)(t,2),a=e[0],c=e[1],s=Object(n.useState)(1),l=Object(o.a)(s,2),i=l[0],m=l[1],u="";return r.a.createElement("div",{className:"App"},r.a.createElement("h1",{className:"title"},"top tracks in ",a," "),r.a.createElement("select",{className:"dropdown",onChange:function(t){u=t.target.value}},r.a.createElement("option",{value:"india"},"india"),r.a.createElement("option",{value:"france"},"france"),r.a.createElement("option",{value:"canada"},"canada"),r.a.createElement("option",{value:"china"},"china"),r.a.createElement("option",{value:"greece"},"greece"),r.a.createElement("option",{value:"japan"},"japan")),r.a.createElement("button",{onClick:function(){m(0),fetch("http://ws.audioscrobbler.com/2.0/?method=geo.gettoptracks&country="+a+"&api_key=1860cfefc2bccd102f8437ff38667f0f&format=json").then(function(t){return t.json()}).then(function(t){m(1)}),c(u)}},"Search"),r.a.createElement(function(t){return 0===t.state?r.a.createElement("div",{className:"card"},r.a.createElement("h1",{style:{textAlign:"center"}},"loading...")):r.a.createElement(k,{country:a})},{state:i}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[16,1,2]]]);
//# sourceMappingURL=main.250f00e7.chunk.js.map